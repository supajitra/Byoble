<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">

    <title>Byoble town&store</title>

    <!--
        DES322 
        StudentID:6222782292
        Student Name:Supajitra Chatchawalvoradech
        TA Group:DES322 G7 TA Tanat Tanyapongpanich
        Dagital Bussiness: Byoble town&store
    -->
    <style>
        .access-point1{border:1px solid black; height: 100px; text-align: center; background-color: gray;}
        .access-point2{border:1px solid black; height: 100px; text-align: center; background-color: lemonchiffon;}
        h1 {text-align: center; font-size: xx-large;}
        h2 {text-align: left;}
        h3 {text-align: right;}
    </style>
</head>

<body>
    <div name="site-header" class="">
        <!--Header -->
        <div name="site-nav" class="" style="background-color: #d6ebf5";> 
        <div class="py-">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-4">
                    <div class="d-flex flex-column flex-md-row align-items-center pb-3 mb-4 border-bottom" style="background-color: #d6ebf5";>
                        <div class="col-md-3">
                            <a href="homepage.html" class="d-flex align-items-center text-dark text-decoration-none">
                                <img src="/images/loco.png" width="100" height="100" alt="" class="me-2" viewBox="0 0 118 94" role="img"><title>Bootstrap</title><path fill-rule="evenodd" clip-rule="evenodd" d="M24.509 0c-6.733 0-11.715 5.893-11.492 12.284.214 6.14-.064 14.092-2.066 20.577C8.943 39.365 5.547 43.485 0 44.014v5.972c5.547.529 8.943 4.649 10.951 11.153 2.002 6.485 2.28 14.437 2.066 20.577C12.794 88.106 17.776 94 24.51 94H93.5c6.733 0 11.714-5.893 11.491-12.284-.214-6.14.064-14.092 2.066-20.577 2.009-6.504 5.396-10.624 10.943-11.153v-5.972c-5.547-.529-8.934-4.649-10.943-11.153-2.002-6.484-2.28-14.437-2.066-20.577C105.214 5.894 100.233 0 93.5 0H24.508zM80 57.863C80 66.663 73.436 72 62.543 72H44a2 2 0 01-2-2V24a2 2 0 012-2h18.437c9.083 0 15.044 4.92 15.044 12.474 0 5.302-4.01 10.049-9.119 10.88v.277C75.317 46.394 80 51.21 80 57.863zM60.521 28.34H49.948v14.934h8.905c6.884 0 10.68-2.772 10.68-7.727 0-4.643-3.264-7.207-9.012-7.207zM49.948 49.2v16.458H60.91c7.167 0 10.964-2.876 10.964-8.281 0-5.406-3.903-8.178-11.425-8.178H49.948z" fill="currentColor"></path></img>
                                <h1 class="jumbotron-heading">Byoble town&store</h1>
                            </a>
                        </div>
                        
            
                    </div>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                        <div class="navbar-nav">
                            <a class="nav-link" href="#"></a>
                            <a class="nav-link" href="#"></a>
                            <a class="nav-link" href="#"></a>
                            <a class="nav-link" href="#"></a>
                        </div>
                    </div>
                </div>
                <div class="col-md-2">
                </div>
                <div class="col-md-2">
                    <a class="navbar-brand" href="homepage.html" style="color:rgb(0, 0, 0)">Hello "Supxchat"</a>
                    <form class="form-inline">
                        <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
                        <button class="btn btn-primary my-2" type="submit" >
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="currentColor" 
                            stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="mx-3" role="img" 
                            viewBox="0 0 24 24"><title>Search</title><circle cx="8" cy="8" r="5"></circle>
                            <path d="M21 21l-5.2-5.2"></path></svg>
                        </button>
                        </form>
                    </div>
                    <div class="col-md-1">
                        <a class="navbar-brand" href="#">
                            <img src="images/cart.png" width="50" height="50" alt="">
                        </a>
                        <a class="navbar-brand" href="homepage.html">Add to cart</a>
                    </div>
                    <div class="col-md-2"></div>
                    <div class="col-md-1">
                        <a class="navbar-brand" href="#">
                            <img src="images/user.png" width="50" height="50" alt="">
                        </a>
                        <a class="navbar-brand" href="homepage.html">Log out</a>
                    </div>
                </div>
            </div>
            </div>
        </div> 
    </div>
</div>
<div class="nav-scroller py-1 mb-2" style="background-color: #f5dee6";>
    <nav class="nav d-flex justify-content-between">
      <a class="p-2 link-secondary" href="#">Home</a>
      <a class="p-2 link-secondary" href="#">Pre-Order</a>
      <a class="p-2 link-secondary" href="#">In stock</a>
      <a class="p-2 link-secondary" href="#">Event</a>
      <a class="p-2 link-secondary" href="#">Promotion</a>
      <a class="p-2 link-secondary" href="#">About Us</a>
    </nav>
</div>

<div class="app_container">
    <div id="app">
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container-fluid">
                <div class="container" style="margin-top : 30px;" v-if="product_page">
                        <button class="nav-item" v-on:click="ShowMyCart">
                            <a class="nav-link" href="#">My Cart ({{countitem}})</a>
                        </button> 
                </div>
            </div>
        </nav>
        <div class="container" style="margin-top : 30px;" v-if="product_page">
            In Stock Products ::
            <hr/>
            <div class="home container">
                <div class="row">
                    <div class="col-md-12 pt-5">
                        <div class="row equal row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 row-cols-xl-4">
                            <Product v-on:add-item="addItem" v-for="product in products" :product="product" :key="product.id" />
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="container" style="margin-top : 30px;" v-if="cart_page">
            My Cart ::
            <hr/>
            <div class="home container">
                <div class="row">
                    <div class="col-md-12 pt-5">
                        <CartItem v-for="item in cart" :item="item" :key="item.id" />
                    </div>
                </div>
            </div>
        </div>
    </div>


</div>
</div>

<template id="product-template">
    <div class="col mb-4 d-flex">
        <div class="card">
            <img :src="product.url" class="card-img-top" alt="...">
            <div class="card-body">
            <h5 class="card-title">{{product.name}}</h5>
            <p class="card-text">
                {{product.price}}THB
                <br/>
                <small>
                {{product.shortdesc}}
                </small>
            </p>
            <button @click="addToCart()" class="btn btn-primary btn-block">Add</button>
            </div>
        </div>
    </div>
</template>

<template id="cartitem-template">
    <div>{{item.name}} - {{item.count}} --->{{item.price*item.count}}THB </div>
    <a class="btn btn-primary" href="#">Remove</a>
</template>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<script src="https://unpkg.com/vue@next"></script>
<!-- <script src="https://unpkg.com/vuex@4.0.0/dist/vuex.global.js"></script> -->
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>
    let app = Vue.createApp({
        data: function() {
            return {
                
                product_page: true,
                cart_page: false,

                products: [{
                    id: 1,
                    name: "AESPA first mini album",
                    price: 600,
                    shortdesc: "This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.",
                    url: "images/album1.jpg"
                }, {
                    id: 2,
                    name: "Love Shot, EXO mini album",
                    price: 650,
                    shortdesc: "This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.",
                    url: "images/album2.png"
                }, {
                    id: 3,
                    name: "NCT DREAM Kihno Boom",
                    price: 700,
                    shortdesc: "This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.",
                    url: "images/album3.jpeg"
                }, {
                    id: 4,
                    name: "Baekhyun second solo album",
                    price: 500,
                    shortdesc: "This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.",
                    url: "images/album4.jpg"
                }, {
                    id: 5,
                    name: "NCT Resonance Pt.2",
                    price: 700,
                    shortdesc: "This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.",
                    url: "images/album5.jpg"
                }, {
                    id: 5,
                    name: "Hello JOY first solo album",
                    price: 450,
                    shortdesc: "This is the one guide that anyone who writes&;whether student, businessperson, or professional writer ",
                    url: "images/album6.jpg"
                }, {
                    id: 6,
                    name: "What a life Kihno",
                    price: 700,
                    shortdesc: "This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.",
                    url: "images/album7.jpg"
                }, {
                    id: 7,
                    name: "Rose Kyungsoo first solo album",
                    price: 450,
                    shortdesc: "This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.",
                    url: "images/album8.jpg"
                }],
                cart: []
            }
        },

        mounted: function() {

        },

        methods: {
            addItem: function(id) {
                console.log(this.products)
                console.log(id)
                
                //Check if this product already in the cart
                item = this.cart.find(product => product.id == id)

                if (item) { // if this product already in the cart
                    item.count += 1
                } else {
                    item = this.products.find(product => product.id == id)
                    this.cart.push({
                        id: item.id,
                        name: item.name,
                        price: item.price,
                        count: 1
                    })
                }
                console.log(this.cart)
            },

            ShowMyCart: function() {
                this.cart_page = true
                this.product_page = false
            },

            ShowHomePage: function() {
                this.product_page = true
                this.cart_page = false
            }
        },

        computed: {
            countitem: function() {
                var total = 0
                for (i in this.cart) {
                    total += this.cart[i].count
                }
                return total
            }
        }

    })

    app.component('Product', {
        data: function() {
            return {}
        },
        props: ['product'],
        template: "#product-template",

        methods: {
            addToCart: function() {
                this.$emit("add-item", this.product.id)
            }

        },
    });

    app.component('Cartitem', {
        props: ['item'],
        template: '#cartitem-template',
    });

    app.mount("#app")
</script>

<div name="site-navv" class="" style="background-color:#b0e3e6";>
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <div class="row">
                    <div class="col-md-6" >
                        <a class="navbar-brand" style="font-size: 2rem; color: #000000" >Follow us</a>
                        <div class="row">
                            <div class="col-md-1">
                                <img alt="Bootstrap Image Preview" iframe width="50" height="50"src="/images/f1.png" />
                            </div>
                            <div class="col-md-1">
                                <img alt="Bootstrap Image Preview" iframe width="50" height="50" src="/images/f2.png" />
                            </div>
                            <div class="col-md-1">
                                <img alt="Bootstrap Image Preview" iframe width="50" height="50"src="/images/f3.png" />
                            </div>
                            <div class="col-md-1">
                                <img alt="Bootstrap Image Preview" iframe width="50" height="50" src="/images/f4.png" />
                            </div>
                        </div> 
                        </div>
                    <div class="col-md-2"></div>
                    <div class="col-md-4">
                        <div name="site-header" class="">
                                    <a class="navbar-brand">Sign up to receiving specail news</a>
                                    <form class="form-inline">
                                    <input class="form-control mr-sm-2" type="email" placeholder="E-mail" aria-label="email">
                                    <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Submit</button>
                                    </form>
                                </nav>
                        </div>
                        <address>
                            <strong>Contact us</strong><br /> Byobletwonandstore@gmail.com
                       </address>
                    </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html> 